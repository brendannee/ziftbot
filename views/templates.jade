template(id='question'):
  .question
    .questionText= q
    .answers
      - if (a['no'] && a['yes'])
        a.no(data-next= a['no'].next, data-type= type, data-value="no", data-product= product)= a['no'].text
        a.yes(data-next= a['yes'].next, data-type= type, data-value="yes", data-product= product)= a['yes'].text
      - else
        - each answer, i in a
          a.btn.large.primary.multiple(data-next= answer.next, data-type= type, data-value= i, data-product= product)= answer.text
  
  
template(id='product'):
  .question.product(id= productId)
    - if (brandName.charAt(0) == 'A')
      article = 'an'
    - else
      article = 'a'
    - if (!recipientType)
      phrase = 'They would love ' + article + ' '
    - else
      phrase = 'Your ' + recipientType + ' would love ' + article + ' '
    .questionText
       span.phrase= phrase
       span.productName #{brandName} #{productName}.
    .answers
      a.no(data-type= 'question') Meh.
      a.yes.zift(href= defaultProductUrl, title= brandName + ' ' + productName, data-type= 'product') Zift it!
      p.price= price + ' + free shipping'
      
template(id='video'):
  .video-js-box.vim-css
    video(id='video-' + productId, controls, width= '550', height= '306')
      source(src=mp4, type='video/mp4')
      - if (swf)
        object(data=swf, type='application/x-shockwave-flash', width= '640', height= '360')
          param(value=swf, name='movie')
          - if (imageSrc)
            param(value='autostart=true&amp;controlbar=over&amp;image=' + imageSrc + '&amp;file=\'' + mp4 + '\'')
          - else
            param(value='autostart=true&amp;controlbar=over&amp;file=\'' + mp4 + '\'')

template(id='image'):
  .productImage
    img(src= imageSrc, alt= brandName + ' ' + productName)

