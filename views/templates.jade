template(id='question'):
  .question
    .questionText= q
    .answers
      - each answer, i in a
        - if (Object.keys(a).length < 3)
          a.btn.large.primary.two(data-next= answer.next, data-type= type, data-value= i, data-product= product)= answer.text
        - else
          a.btn.large.primary.multiple(data-next= answer.next, data-type= type, data-value= i, data-product= product)= answer.text
          
  
template(id='product'):
  .question.product(id= productId)
    - if (brandName.charAt(0) == 'A')
      article = 'an'
    - else
      article = 'a'
    - if (!recipientType)
      phrase = 'Would they like ' + article + ' '
    - else
      phrase = 'Would your ' + recipientType + ' like ' + article + ' '
    .questionText
       span.phrase= phrase
       span.productName #{brandName} #{productName}?
    .productInfo= price
    .answers
      a.btn.large.primary.two(href= defaultProductUrl, title= brandName + ' ' + productName, data-type= 'product') Yes
      a.btn.large.primary.two(data-type= 'question') No, ask me more questions

template(id='video'):
  .video-js-box.vim-css
    video(id='video-' + productId, controls, width= '550', height= '306')
      source(src=mp4, type='video/mp4')
      - if (swf)
        object(data=swf, type='application/x-shockwave-flash', width= '640', height= '360')
          param(value=swf, name='movie')
          param(value='autostart=true&amp;controlbar=over&amp;image=' + imageSrc + '&amp;file=\'' + mp4 + '\'')

template(id='image'):
  .productImage
    img(src= imageSrc, alt= brandName + ' ' + productName)

